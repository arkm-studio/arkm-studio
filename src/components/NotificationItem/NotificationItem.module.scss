// SCSS Styles
$colors: (
  text: (
    primary: rgb(241, 228, 228),
    secondary: rgba(241, 228, 228, 0.8),
    tertiary: rgba(241, 228, 228, 0.6),
  ),
  priorities: (
    low: (
      bg: #f3f4f6,
      text: #374151,
    ),
    medium: (
      bg: #fef3c7,
      text: #854d0e,
    ),
    high: (
      bg: #fee2e2,
      text: #991b1b,
    ),
  ),
  variants: (
    status: (
      bg: #f3f4f6,
      text: #374151,
    ),
    progress: (
      bg: #d1fae5,
      text: #064e3b,
    ),
    team: (
      bg: #fef3c7,
      text: #854d0e,
    ),
    milestone: (
      bg: #ddd6fe,
      text: #5b21b6,
    ),
    comment: (
      bg: #e0f2fe,
      text: #075985,
    ),
    file: (
      bg: #f1f5f9,
      text: #334155,
    ),
    mention: (
      bg: #fae8ff,
      text: #86198f,
    ),
  ),
);

@mixin flex($justify: flex-start, $align: center, $direction: row) {
  display: flex;
  justify-content: $justify;
  align-items: $align;
  flex-direction: $direction;
}

@mixin transition {
  transition: all 0.2s ease;
}

.notification-item {
  @include flex(flex-start, flex-start);
  padding: 1rem;
  border-radius: 0.5rem;
  @include transition;
  margin-bottom: 0.5rem;

  &:hover {
    background: rgba(255, 255, 255, 0.05);
    // transform: translateY(-1px);
  }

  &--unread {
    background-color: rgba(99, 102, 241, 0.03);
  }

  &--link {
    text-decoration: none;
    color: inherit;
    display: block;
    cursor: pointer;

    &:hover {
      text-decoration: none;
    }
  }

  &__content {
    flex: 1;
    min-width: 0;
  }

  &__header {
    @include flex(space-between, center);
    margin-bottom: 0.25rem;
  }

  &__title {
    font-size: 0.875rem;
    font-weight: 600;
    color: map-get($colors, text, primary);
    margin: 0;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
  }

  &__variant-wrapper {
    flex-shrink: 0;
    margin-left: 0.75rem;
  }

  &__variant-label {
    @include flex(flex-start, center);
    font-size: 0.625rem;
    font-weight: 500;
    padding: 0.225rem 0.525rem;
    border-radius: 9999px;
    gap: 0.25rem;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;

    @each $variant, $colors in map-get($colors, variants) {
      &--#{$variant} {
        background-color: map-get($colors, bg);
        color: map-get($colors, text);

        .notification-item__variant-icon {
          color: map-get($colors, text);
        }
      }
    }
  }

  &__variant-icon {
    width: 0.75rem;
    height: 0.75rem;
  }

  &__description {
    font-size: 0.8125rem;
    color: map-get($colors, text, secondary);
    margin: 0.25rem 0;
    line-height: 1.5;
  }

  &__footer {
    @include flex(flex-start, center);
    margin-top: 0.5rem;
    gap: 0.5rem;
  }

  &__timestamp {
    font-size: 0.75rem;
    color: map-get($colors, text, tertiary);
  }

  &__separator {
    display: none;
    font-size: 0.75rem;
    color: map-get($colors, text, tertiary);
  }

  &__priority {
    display: none;
    font-size: 0.75rem;
    font-weight: 500;
    padding: 0.25rem 0.5rem;
    border-radius: 9999px;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    white-space: nowrap;

    @each $priority, $colors in map-get($colors, priorities) {
      .notification-item--#{$priority} & {
        background-color: map-get($colors, bg);
        color: map-get($colors, text);
      }
    }
  }

  @media (max-width: 640px) {
    padding: 0.75rem;

    &__title {
      font-size: 0.8125rem;
    }

    &__description {
      font-size: 0.75rem;
    }

    &__timestamp {
      font-size: 0.7rem;
    }

    &__variant-icon {
      width: 0.625rem;
      height: 0.625rem;
    }

    &__footer {
      flex-direction: column;
      align-items: flex-start;
      gap: 0.5rem;
    }
  }
}
